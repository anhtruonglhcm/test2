<div class="loadingne" *ngIf="isLoading">
    <mat-spinner color="accent"></mat-spinner>
</div>
<div *ngIf="!isLoading" class="mat-elevation-z10">
    <mat-toolbar>
        <button mat-raised-button color="accent" (click)="createProductCate()" class="btncreate">New Product
            Cate</button>
    </mat-toolbar>
    <mat-table [dataSource]="dataProductCate">
        <ng-container matColumnDef="index">
            <mat-header-cell *matHeaderCellDef> STT
            </mat-header-cell>
            <mat-cell *matCellDef="let index = index"> {{index+1}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef> Name
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="photo">
            <mat-header-cell *matHeaderCellDef> Photo
            </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <img src="{{base_url+'/'+element.photo}}" height="100px">
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef> Status
            </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <button mat-raised-button color="{{element.status ? 'accent' : 'primary'}}"
                    (click)="update(element._id)">{{element.status ? 'show' : 'hidden'}}</button>
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="position">
            <mat-header-cell *matHeaderCellDef> Position
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.position}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
            <mat-header-cell *matHeaderCellDef> Action
            </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <button mat-button [matMenuTriggerFor]="menuRef">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menuRef="matMenu">
                    <button mat-menu-item (click)="edit(element._id)">
                        <mat-icon>editor</mat-icon>
                        Editor
                    </button>
                    <button mat-menu-item (click)="deleteProductCate(element._id)">
                        <mat-icon>delete</mat-icon>
                        Delete
                    </button>
                </mat-menu>
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
</div>